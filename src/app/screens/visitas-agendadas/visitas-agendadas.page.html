<app-toolbar titulo="Visitas Asignadas"></app-toolbar>

<ion-content>
    <div class="body">
        <div class="body__card">
            <p class="body__card__title">Visitas por realizar</p>
            <div *ngIf="this.loading">
                <ion-list>
                    <ion-item *ngFor="let item of [1,1,1]">
                        <ion-skeleton-text animated style="width: 27px; height: 27px" slot="start"></ion-skeleton-text>
                        <ion-label>
                            <h3>
                                <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
                            </h3>
                            <p>
                                <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
                            </p>
                            <p>
                                <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
                            </p>
                        </ion-label>
                    </ion-item>
                </ion-list>
            </div>
            <div *ngIf="!this.loading">
                <div *ngFor="let item of new_visit" class="body__card__form" [routerLink]="['/inicio/generar-visita']">
                    <p class="body__card__form__title">{{item.direccion}}</p>
                    <span>Matrícula Inmobiliaria: {{item.matricula}}</span><br>
                    <span>Encargado: {{item.encargado}}</span>
                    <hr color="grey">
                </div>
            </div>
        </div>
        <div class="body__add" (click)=createNewVisit()>
            <ion-icon class="body__add__icon" name="add-circle-sharp"></ion-icon>
            <p class="body__add__text">Agregar nueva visita</p>
        </div>
        <div class="body__card">
            <p class="body__card__title">Visitas realizadas</p>
            <div *ngIf="this.loading">
                <ion-list>
                    <ion-item>
                        <ion-skeleton-text animated style="width: 27px; height: 27px" slot="start"></ion-skeleton-text>
                        <ion-label>
                            <h3>
                                <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
                            </h3>
                            <p>
                                <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
                            </p>
                            <p>
                                <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
                            </p>
                        </ion-label>
                    </ion-item>
                </ion-list>
            </div>
            <div *ngIf="!this.loading">
                <div *ngFor="let item of aspecto_general" class="body__card__form" [routerLink]="['visita', item.general.matricula_inmobiliaria]">
                    <p class="body__card__form__title">{{item.general.direccion}}</p>
                    <span>Matrícula Inmobiliaria: {{item.general.matricula_inmobiliaria}}</span><br>
                    <span>Encargado: {{item.general.nombre}}</span>
                    <hr color="grey">
                </div>
            </div>

        </div>
    </div>
</ion-content>